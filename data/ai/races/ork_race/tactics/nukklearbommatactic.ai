----------------------------------------
-- File: 'nukklearbommatactic.ai'
-- Created by Cylarne_04 2015

class 'NukklearBommaTactic' (OrkVehicleTactic)

NukklearBomma = {}

function NukklearBommaTactic:__init( squad_ai ) super( squad_ai )

	self:SetName("NukklearBommba Tactic")
	
end

function NukklearBommaTactic:InitAbilities()

	-- Init ability ID's
	if (NukklearBomma.bombard_id == nil) then
		NukklearBomma.bombard_id = cpu_manager.stats:GetAbilityID( "ork_nukklear_bombard" )
	end
end

function MekBoyTactic:DoAbilities()

	local iRequisition = resource_manager:GetResourceAmount():Get( ResourceAmount.RT_Requisition )
	local iPower = resource_manager:GetResourceAmount():Get( ResourceAmount.RT_Power )
		
	-- Activate the nuke.
	if (iRequisition >= 2000 and iPower >= 2000) then
		if (self.squad_ai:CanDoAbility(NukklearBomma.bombard_id)) then
			Ability.DoAbilityPos( self.squad_ai, NukklearBomma.bombard_id, Ability.Filters.CloseVehicleEnemy, 4 ) 
			Ability.DoAbilityPos( self.squad_ai, NukklearBomma.bombard_id, Ability.Filters.CloseEnemy, 15 ) 
		end
	end
end