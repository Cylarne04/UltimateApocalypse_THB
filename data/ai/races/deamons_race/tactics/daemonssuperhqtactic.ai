----------------------------------------
-- File: 'daemonssuperhqtactic.ai'
-- Edited by Thudmeizer		@ 13.06.2011
-- Edited by Cylarne_04 2011
-- Edited by Cylarne 6/16/2014

class 'DaemonsSuperHQTactic' (BaseTactic)

DaemonsSuperHQ = {}

function DaemonsSuperHQTactic:__init( base_ai ) super( base_ai )

	self:SetName("Daemons Super HQ Tactic")

	-- Building can deepstrike troops
	self.m_bCanDeepStrikeTroops = true
end

function DaemonsSuperHQTactic:InitAbilities()
	
	-- Init abilities
	if (DaemonsSuperHQ.warp_storm == nil) then
		DaemonsSuperHQ.warp_storm = cpu_manager.stats:GetAbilityID( "daemons_warp_storm" )
	end
	if (DaemonsSuperHQ.planetary_exterminator == nil) then
		DaemonsSuperHQ.planetary_exterminator = cpu_manager.stats:GetAbilityID( "daemons_planetary_exterminator" )
	end
	
end

function DaemonsSuperHQTactic:DoAbilities()

	local iRequisition = resource_manager:GetResourceAmount():Get( ResourceAmount.RT_Requisition )
	local iPower = resource_manager:GetResourceAmount():Get( ResourceAmount.RT_Power )
	
	-- Activate the planet destroyer, the Planetary Exterminator! (Once activated, bye bye! 8000/80)
	if (iRequisition >= 22000 and iPower >= 22000) then
		self.base_ai:DoSpecialAbility(DaemonsSuperHQ.planetary_exterminator)
	end
	
	-- Try to activate the "Warp Storm" ability against the enemy (utterly massive destruction @ ground zero - Cost: 1500/15)
	if (self.base_ai:CanDoAbility(DaemonsSuperHQ.warp_storm)) then
		Ability.DoAbilityPos(self.base_ai, DaemonsSuperHQ.warp_storm, Ability.Filters.CloseEnemy, 35)
		Ability.DoAbilityTargetEntity(self.base_ai, DaemonsSuperHQ.warp_storm, Ability.EntityFilters.CloseBaseEntityEnemy, 6)
	end
end

