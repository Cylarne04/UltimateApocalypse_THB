----------------------------------------
-- File: 'gktermietactic.ai'
-- Edited by Thudmeizer @ 28.03.2007
-- Edited by Cylarne

class 'GKTermieTactic' (DaemonhuntInfantryTactic)

GKTermie = {}

function GKTermieTactic:__init( squad_ai ) super( squad_ai )

	self:SetName("GKTermie Tactic")
end

function GKTermieTactic:InitAbilities()

	if GKTermie.medkits == nil then
	   GKTermie.medkits = cpu_manager.stats:GetAbilityID( "inquisition_medikits" )	
	end
	
	if GKTermie.nemesis == nil then
	   GKTermie.nemesis = cpu_manager.stats:GetAbilityID( "inquisition_brother_captain_nemesis" )	
	end
	
	if GKTermie.banish == nil then
	   GKTermie.banish = cpu_manager.stats:GetAbilityID( "inquisition_banish" )	
	end
	
	if GKTermie.light == nil then
	   GKTermie.light = cpu_manager.stats:GetAbilityID( "inquisition_strike_of_justice" )	
	end
end

function GKTermieTactic:DoAbilities()
	
	if (self.squad_ai:IsInCombat()) then

		Ability.DoAbilityPos( self.squad_ai, GKTermie.nemesis, Ability.Filters.CloseInfantryEnemy, 4 ) 
		Ability.DoAbilityPos( self.squad_ai, GKTermie.nemesis, Ability.Filters.CloseMonsterEnemy, 2 )
		
		Ability.DoAbilityPos( self.squad_ai, GKTermie.light, Ability.Filters.CloseInfantryEnemy, 6 ) 
		Ability.DoAbilityPos( self.squad_ai, GKTermie.light, Ability.Filters.CloseMonsterEnemy, 3 )
		
		Ability.DoAbilityTarget( self.squad_ai, GKTermie.banish, Ability.Filters.CloseMonsterEnemy, 4 )
	end
	--we are dying, lower requisites for attacks
	if self.squad_ai:WasRecentlyHurt() and self.squad_ai:GetHealthPercentage() < 0.4 then
		
		Ability.DoAbility( self.squad_ai, GKTermie.medkits, Ability.Filters.IsInCombat )
		Ability.DoAbilityTarget( self.squad_ai, GKTermie.banish, Ability.Filters.CloseMonsterEnemy, 1 )
	end
end
